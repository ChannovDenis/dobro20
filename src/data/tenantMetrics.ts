// ——— МЕТРИКИ ДАШБОРДА ———

export const dashboardMetrics: Record<string, {
  aiRequests: { value: number; change: number };
  escalations: { value: number; change: number };
  nps: { value: number; change: number };
  avgTime: { value: number; change: number };
}> = {
  dobroservice: {
    aiRequests: { value: 2847, change: 12.5 },
    escalations: { value: 234, change: -3.2 },
    nps: { value: 78, change: 4.1 },
    avgTime: { value: 2.3, change: -15.0 },
  },
  gazprombank: {
    aiRequests: { value: 8420, change: 18.3 },
    escalations: { value: 612, change: -5.7 },
    nps: { value: 82, change: 2.8 },
    avgTime: { value: 1.8, change: -22.0 },
  },
  wildberries: {
    aiRequests: { value: 15230, change: 24.1 },
    escalations: { value: 1105, change: -1.4 },
    nps: { value: 74, change: 6.2 },
    avgTime: { value: 3.1, change: -8.5 },
  },
  mes: {
    aiRequests: { value: 1560, change: 8.7 },
    escalations: { value: 198, change: -4.5 },
    nps: { value: 71, change: 3.3 },
    avgTime: { value: 2.9, change: -11.0 },
  },
  alfa: {
    aiRequests: { value: 6340, change: 15.9 },
    escalations: { value: 445, change: -6.1 },
    nps: { value: 80, change: 3.7 },
    avgTime: { value: 2.0, change: -18.5 },
  },
  pochtarf: {
    aiRequests: { value: 3890, change: 10.2 },
    escalations: { value: 367, change: -2.8 },
    nps: { value: 69, change: 5.5 },
    avgTime: { value: 3.5, change: -7.2 },
  },
};

// ——— ГРАФИК АКТИВНОСТИ (30 дней: 17.01 – 15.02) ———

export const activityChartData: Record<string, Array<{
  date: string;
  aiRequests: number;
  escalations: number;
}>> = {
  dobroservice: [
    { date: '17.01', aiRequests: 78, escalations: 6 },
    { date: '18.01', aiRequests: 85, escalations: 7 },
    { date: '19.01', aiRequests: 62, escalations: 5 },
    { date: '20.01', aiRequests: 91, escalations: 8 },
    { date: '21.01', aiRequests: 88, escalations: 7 },
    { date: '22.01', aiRequests: 94, escalations: 8 },
    { date: '23.01', aiRequests: 97, escalations: 8 },
    { date: '24.01', aiRequests: 92, escalations: 7 },
    { date: '25.01', aiRequests: 65, escalations: 5 },
    { date: '26.01', aiRequests: 58, escalations: 5 },
    { date: '27.01', aiRequests: 99, escalations: 8 },
    { date: '28.01', aiRequests: 102, escalations: 9 },
    { date: '29.01', aiRequests: 95, escalations: 8 },
    { date: '30.01', aiRequests: 105, escalations: 9 },
    { date: '31.01', aiRequests: 108, escalations: 9 },
    { date: '01.02', aiRequests: 70, escalations: 6 },
    { date: '02.02', aiRequests: 63, escalations: 5 },
    { date: '03.02', aiRequests: 104, escalations: 9 },
    { date: '04.02', aiRequests: 110, escalations: 9 },
    { date: '05.02', aiRequests: 107, escalations: 9 },
    { date: '06.02', aiRequests: 112, escalations: 10 },
    { date: '07.02', aiRequests: 115, escalations: 10 },
    { date: '08.02', aiRequests: 72, escalations: 6 },
    { date: '09.02', aiRequests: 66, escalations: 5 },
    { date: '10.02', aiRequests: 118, escalations: 10 },
    { date: '11.02', aiRequests: 121, escalations: 10 },
    { date: '12.02', aiRequests: 116, escalations: 10 },
    { date: '13.02', aiRequests: 124, escalations: 11 },
    { date: '14.02', aiRequests: 119, escalations: 10 },
    { date: '15.02', aiRequests: 75, escalations: 6 },
  ],
  gazprombank: [
    { date: '17.01', aiRequests: 234, escalations: 18 },
    { date: '18.01', aiRequests: 255, escalations: 21 },
    { date: '19.01', aiRequests: 186, escalations: 15 },
    { date: '20.01', aiRequests: 273, escalations: 22 },
    { date: '21.01', aiRequests: 264, escalations: 21 },
    { date: '22.01', aiRequests: 282, escalations: 23 },
    { date: '23.01', aiRequests: 291, escalations: 24 },
    { date: '24.01', aiRequests: 276, escalations: 22 },
    { date: '25.01', aiRequests: 195, escalations: 16 },
    { date: '26.01', aiRequests: 174, escalations: 14 },
    { date: '27.01', aiRequests: 297, escalations: 24 },
    { date: '28.01', aiRequests: 306, escalations: 25 },
    { date: '29.01', aiRequests: 285, escalations: 23 },
    { date: '30.01', aiRequests: 315, escalations: 26 },
    { date: '31.01', aiRequests: 324, escalations: 26 },
    { date: '01.02', aiRequests: 210, escalations: 17 },
    { date: '02.02', aiRequests: 189, escalations: 15 },
    { date: '03.02', aiRequests: 312, escalations: 25 },
    { date: '04.02', aiRequests: 330, escalations: 27 },
    { date: '05.02', aiRequests: 321, escalations: 26 },
    { date: '06.02', aiRequests: 336, escalations: 28 },
    { date: '07.02', aiRequests: 345, escalations: 28 },
    { date: '08.02', aiRequests: 216, escalations: 18 },
    { date: '09.02', aiRequests: 198, escalations: 16 },
    { date: '10.02', aiRequests: 354, escalations: 29 },
    { date: '11.02', aiRequests: 363, escalations: 30 },
    { date: '12.02', aiRequests: 348, escalations: 28 },
    { date: '13.02', aiRequests: 372, escalations: 31 },
    { date: '14.02', aiRequests: 357, escalations: 29 },
    { date: '15.02', aiRequests: 225, escalations: 18 },
  ],
  wildberries: [
    { date: '17.01', aiRequests: 390, escalations: 31 },
    { date: '18.01', aiRequests: 425, escalations: 34 },
    { date: '19.01', aiRequests: 310, escalations: 25 },
    { date: '20.01', aiRequests: 455, escalations: 37 },
    { date: '21.01', aiRequests: 440, escalations: 35 },
    { date: '22.01', aiRequests: 470, escalations: 38 },
    { date: '23.01', aiRequests: 485, escalations: 39 },
    { date: '24.01', aiRequests: 460, escalations: 37 },
    { date: '25.01', aiRequests: 325, escalations: 26 },
    { date: '26.01', aiRequests: 290, escalations: 23 },
    { date: '27.01', aiRequests: 495, escalations: 40 },
    { date: '28.01', aiRequests: 510, escalations: 41 },
    { date: '29.01', aiRequests: 475, escalations: 38 },
    { date: '30.01', aiRequests: 525, escalations: 42 },
    { date: '31.01', aiRequests: 540, escalations: 44 },
    { date: '01.02', aiRequests: 350, escalations: 28 },
    { date: '02.02', aiRequests: 315, escalations: 25 },
    { date: '03.02', aiRequests: 520, escalations: 42 },
    { date: '04.02', aiRequests: 550, escalations: 44 },
    { date: '05.02', aiRequests: 535, escalations: 43 },
    { date: '06.02', aiRequests: 560, escalations: 45 },
    { date: '07.02', aiRequests: 575, escalations: 46 },
    { date: '08.02', aiRequests: 360, escalations: 29 },
    { date: '09.02', aiRequests: 330, escalations: 26 },
    { date: '10.02', aiRequests: 590, escalations: 47 },
    { date: '11.02', aiRequests: 605, escalations: 49 },
    { date: '12.02', aiRequests: 580, escalations: 46 },
    { date: '13.02', aiRequests: 620, escalations: 50 },
    { date: '14.02', aiRequests: 595, escalations: 48 },
    { date: '15.02', aiRequests: 375, escalations: 30 },
  ],
  mes: [
    { date: '17.01', aiRequests: 42, escalations: 3 },
    { date: '18.01', aiRequests: 46, escalations: 4 },
    { date: '19.01', aiRequests: 33, escalations: 3 },
    { date: '20.01', aiRequests: 49, escalations: 4 },
    { date: '21.01', aiRequests: 47, escalations: 4 },
    { date: '22.01', aiRequests: 51, escalations: 4 },
    { date: '23.01', aiRequests: 53, escalations: 4 },
    { date: '24.01', aiRequests: 50, escalations: 4 },
    { date: '25.01', aiRequests: 35, escalations: 3 },
    { date: '26.01', aiRequests: 31, escalations: 2 },
    { date: '27.01', aiRequests: 54, escalations: 4 },
    { date: '28.01', aiRequests: 56, escalations: 5 },
    { date: '29.01', aiRequests: 52, escalations: 4 },
    { date: '30.01', aiRequests: 57, escalations: 5 },
    { date: '31.01', aiRequests: 59, escalations: 5 },
    { date: '01.02', aiRequests: 38, escalations: 3 },
    { date: '02.02', aiRequests: 34, escalations: 3 },
    { date: '03.02', aiRequests: 56, escalations: 5 },
    { date: '04.02', aiRequests: 60, escalations: 5 },
    { date: '05.02', aiRequests: 58, escalations: 5 },
    { date: '06.02', aiRequests: 61, escalations: 5 },
    { date: '07.02', aiRequests: 63, escalations: 5 },
    { date: '08.02', aiRequests: 39, escalations: 3 },
    { date: '09.02', aiRequests: 36, escalations: 3 },
    { date: '10.02', aiRequests: 64, escalations: 5 },
    { date: '11.02', aiRequests: 66, escalations: 5 },
    { date: '12.02', aiRequests: 63, escalations: 5 },
    { date: '13.02', aiRequests: 68, escalations: 6 },
    { date: '14.02', aiRequests: 65, escalations: 5 },
    { date: '15.02', aiRequests: 41, escalations: 3 },
  ],
  alfa: [
    { date: '17.01', aiRequests: 175, escalations: 14 },
    { date: '18.01', aiRequests: 191, escalations: 15 },
    { date: '19.01', aiRequests: 139, escalations: 11 },
    { date: '20.01', aiRequests: 204, escalations: 17 },
    { date: '21.01', aiRequests: 198, escalations: 16 },
    { date: '22.01', aiRequests: 211, escalations: 17 },
    { date: '23.01', aiRequests: 218, escalations: 18 },
    { date: '24.01', aiRequests: 207, escalations: 17 },
    { date: '25.01', aiRequests: 146, escalations: 12 },
    { date: '26.01', aiRequests: 130, escalations: 10 },
    { date: '27.01', aiRequests: 223, escalations: 18 },
    { date: '28.01', aiRequests: 229, escalations: 19 },
    { date: '29.01', aiRequests: 214, escalations: 17 },
    { date: '30.01', aiRequests: 236, escalations: 19 },
    { date: '31.01', aiRequests: 243, escalations: 20 },
    { date: '01.02', aiRequests: 157, escalations: 13 },
    { date: '02.02', aiRequests: 142, escalations: 11 },
    { date: '03.02', aiRequests: 234, escalations: 19 },
    { date: '04.02', aiRequests: 248, escalations: 20 },
    { date: '05.02', aiRequests: 241, escalations: 19 },
    { date: '06.02', aiRequests: 252, escalations: 20 },
    { date: '07.02', aiRequests: 259, escalations: 21 },
    { date: '08.02', aiRequests: 162, escalations: 13 },
    { date: '09.02', aiRequests: 148, escalations: 12 },
    { date: '10.02', aiRequests: 265, escalations: 21 },
    { date: '11.02', aiRequests: 272, escalations: 22 },
    { date: '12.02', aiRequests: 261, escalations: 21 },
    { date: '13.02', aiRequests: 279, escalations: 23 },
    { date: '14.02', aiRequests: 268, escalations: 22 },
    { date: '15.02', aiRequests: 169, escalations: 14 },
  ],
  pochtarf: [
    { date: '17.01', aiRequests: 107, escalations: 9 },
    { date: '18.01', aiRequests: 117, escalations: 10 },
    { date: '19.01', aiRequests: 85, escalations: 7 },
    { date: '20.01', aiRequests: 125, escalations: 10 },
    { date: '21.01', aiRequests: 121, escalations: 10 },
    { date: '22.01', aiRequests: 129, escalations: 11 },
    { date: '23.01', aiRequests: 133, escalations: 11 },
    { date: '24.01', aiRequests: 127, escalations: 10 },
    { date: '25.01', aiRequests: 89, escalations: 7 },
    { date: '26.01', aiRequests: 80, escalations: 6 },
    { date: '27.01', aiRequests: 136, escalations: 11 },
    { date: '28.01', aiRequests: 140, escalations: 12 },
    { date: '29.01', aiRequests: 131, escalations: 11 },
    { date: '30.01', aiRequests: 144, escalations: 12 },
    { date: '31.01', aiRequests: 148, escalations: 12 },
    { date: '01.02', aiRequests: 96, escalations: 8 },
    { date: '02.02', aiRequests: 87, escalations: 7 },
    { date: '03.02', aiRequests: 143, escalations: 12 },
    { date: '04.02', aiRequests: 151, escalations: 12 },
    { date: '05.02', aiRequests: 147, escalations: 12 },
    { date: '06.02', aiRequests: 153, escalations: 13 },
    { date: '07.02', aiRequests: 158, escalations: 13 },
    { date: '08.02', aiRequests: 99, escalations: 8 },
    { date: '09.02', aiRequests: 91, escalations: 7 },
    { date: '10.02', aiRequests: 162, escalations: 13 },
    { date: '11.02', aiRequests: 166, escalations: 14 },
    { date: '12.02', aiRequests: 159, escalations: 13 },
    { date: '13.02', aiRequests: 170, escalations: 14 },
    { date: '14.02', aiRequests: 164, escalations: 13 },
    { date: '15.02', aiRequests: 103, escalations: 8 },
  ],
};

// ——— BURN-DOWN ГРАФИК (биллинг, 30 дней) ———

function generateBurndown(limit: number, consumptionPattern: number[]): Array<{ date: string; plan: number; fact: number }> {
  const dates = [
    '17.01','18.01','19.01','20.01','21.01','22.01','23.01','24.01','25.01','26.01',
    '27.01','28.01','29.01','30.01','31.01','01.02','02.02','03.02','04.02','05.02',
    '06.02','07.02','08.02','09.02','10.02','11.02','12.02','13.02','14.02','15.02',
  ];
  const step = limit / 30;
  let factRemaining = limit;
  return dates.map((date, i) => {
    factRemaining -= consumptionPattern[i];
    return {
      date,
      plan: Math.round(limit - step * (i + 1)),
      fact: Math.max(0, Math.round(factRemaining)),
    };
  });
}

export const burndownData: Record<string, Array<{ date: string; plan: number; fact: number }>> = {
  dobroservice: generateBurndown(3000, [
    95, 105, 70, 110, 108, 112, 115, 100, 68, 60,
    118, 120, 105, 125, 128, 75, 65, 122, 130, 125,
    132, 135, 78, 70, 138, 142, 130, 145, 135, 80,
  ]),
  gazprombank: generateBurndown(10000, [
    310, 340, 230, 370, 355, 375, 385, 345, 225, 200,
    395, 405, 375, 420, 430, 250, 220, 410, 440, 425,
    445, 455, 260, 235, 465, 475, 440, 490, 470, 270,
  ]),
  wildberries: generateBurndown(18000, [
    520, 565, 400, 610, 590, 630, 650, 615, 380, 340,
    660, 680, 635, 700, 720, 420, 375, 695, 735, 715,
    745, 765, 435, 395, 785, 805, 775, 830, 795, 450,
  ]),
  mes: generateBurndown(2000, [
    58, 64, 44, 68, 65, 70, 72, 67, 43, 38,
    74, 76, 70, 78, 80, 48, 42, 76, 82, 79,
    83, 85, 50, 45, 87, 90, 84, 93, 88, 52,
  ]),
  alfa: generateBurndown(8000, [
    240, 262, 180, 280, 272, 290, 298, 275, 175, 155,
    305, 315, 290, 325, 335, 195, 170, 320, 340, 330,
    345, 355, 205, 185, 365, 375, 350, 385, 370, 210,
  ]),
  pochtarf: generateBurndown(5000, [
    148, 162, 112, 173, 167, 178, 184, 170, 108, 96,
    188, 194, 180, 200, 205, 120, 105, 198, 210, 203,
    212, 218, 126, 114, 224, 230, 216, 236, 228, 130,
  ]),
};
